<div class="container">
    <h3>Insert User</h3>
    <form #form="ngForm" >
        <div class="form-group">
            <label class="required" for="name">Name:</label>
            <input 
                type="text"
                name="name"
                id="name"
                class="form-control"
                placeholder="Name"
                [(ngModel)]="user.name"
                #nameField="ngModel" 
                required
            />
            <div 
            class="alert alert-danger" 
            [hidden]="!form.submitted || nameField.valid"> Insert Name</div>
        </div>
            <div class="form-group">
                <label class="required" for="surname">Surname:</label>
                <input 
                    type="text"
                    name="surname"
                    id="surname"
                    class="form-control"
                    placeholder="Surname"
                    [(ngModel)]="user.surname"
                    #surnameField="ngModel"  
                    required          
                />
                <div 
                class="alert alert-danger" 
                [hidden]="!form.submitted || surnameField.valid"> Insert Surname</div>
            </div>

            <div class="form-group">
                <label for="birthDate">Date Of Birth:</label>
                <input 
                    type="date"
                    class="form-control"
                    id="birthDate"
                    name="birthDate"
                    [(ngModel)]="user.birthDate">
            </div>

            <div class="form-group">
                <label class="required" for="email">Email:</label>
                <input 
                    type="email"
                    name="email"
                    id="email"
                    class="form-control"
                    placeholder="Email"
                    [(ngModel)]="user.emailAddress"
                    #emailField="ngModel"
                    required
                    />
                    <div 
                    class="alert alert-danger" 
                    [hidden]="!form.submitted || emailField.valid"> Insert Email</div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label class="required" for="userType">User Type</label>
                    <select
                        id="userType"
                        class="form-control"
                        name="userType"
                        required
                        #userType="ngModel"
                        [(ngModel)]="user.userTypeId">
                        <option *ngFor="let userType of userTypes" value="{{userType.id}}">{{userType.description}}</option>
                    </select>
                    <div 
                    class="alert alert-danger" 
                    [hidden]="!form.submitted || userType.valid"> Insert user Type</div>
                </div>
                <div class="form-group col-md-6">
                    <label class="required" for="userTitle">User Title</label>
                    <select
                        id="userTitle"
                        class="form-control"
                        name="userTitle"
                        required
                        #userTitle="ngModel"
                        [(ngModel)]="user.userTitleId"
                    >
                        <option 
                            *ngFor="let userTitle of userTitles"
                            value="{{userTitle.id}}">
                                {{userTitle.description}}
                        </option>
                    </select>
                    <div 
                    class="alert alert-danger" 
                    [hidden]="!form.submitted || userTitle.valid"> Insert user Title</div>
                </div>
            </div>
            <div class="form-check form-group">
                <input 
                    type="checkbox"
                    class="form-check-input"
                    id="isActive"
                    name="isActive" 
                    [(ngModel)]="user.isActive">
                <label for="isActive" class="form-check-label">
                    is Active
                </label>
            </div>

            <button class="btn btn-primary" (click)="insertUser(form)" >Submit</button>
            <button class="btn btn-light" (click)="goBack()">Back</button>
    </form>

</div>
